package com.course.courseselection.service;import com.course.courseselection.command.Student;import com.course.courseselection.command.StudentCommand;import com.course.courseselection.command.UserCommand;import com.course.courseselection.entity.Admin;import com.course.courseselection.entity.StudentData;import com.course.courseselection.exception.UserNotFoundException;import com.course.courseselection.repository.AdminRepository;import com.course.courseselection.repository.StudentRepository;import com.course.courseselection.translator.StudentTranslator;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;import org.springframework.stereotype.Service;import java.time.LocalDateTime;@Servicepublic class AdminServiceImp implements AdminService {    @Autowired    private StudentRepository studentRepository;    @Autowired    private StudentTranslator studentTranslator;    @Autowired    private AdminRepository adminRepository;    @Override    public void add(StudentCommand command) {        for (Student student : command.getStudents()) {            StudentData studentData = studentTranslator.translate(student);            studentRepository.save(studentData);        }    }    @Override    public void add(UserCommand command) {        BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();        Admin entity = new Admin();        entity.setName(command.getUsername());        entity.setPassword(encoder.encode(command.getPassword()));        LocalDateTime now = LocalDateTime.now();        entity.setCreatedTime(now);        entity.setPasswordResetTime(now);        adminRepository.save(entity);    }    @Override    public void delete(StudentCommand command) {        for (Student student : command.getStudents()) {            StudentData studentData = studentRepository.findById(student.getId()).get();            if (studentData == null) {                throw new UserNotFoundException("user is not exist");            }            studentRepository.delete(studentData);        }    }}